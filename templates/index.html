<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
 
 
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  
    <!-- Latest compiled JavaScript -->
     <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


  <script>
  
  function update_buttons(c) {
    document.getElementById("s0").value = c[0];
	document.getElementById("s0").innerHTML = c[0];
	document.getElementById("s1").value = c[1];
	document.getElementById("s1").innerHTML = c[1];
	document.getElementById("s2").value = c[2];
	document.getElementById("s2").innerHTML = c[2];
	document.getElementById("s3").value = c[3];
	document.getElementById("s3").innerHTML = c[3];
	document.getElementById("s4").value = c[4];
	document.getElementById("s4").innerHTML = c[4];
	document.getElementById("s5").value = c[5];
	document.getElementById("s5").innerHTML = c[5];
	document.getElementById("s6").value = c[6];
	document.getElementById("s6").innerHTML = c[6];
	document.getElementById("s7").value = c[7];
	document.getElementById("s7").innerHTML = c[7];
	document.getElementById("s8").value = c[8];
	document.getElementById("s8").innerHTML = c[8];
	document.getElementById("s9").value = c[9];
	document.getElementById("s9").innerHTML = c[9];
	document.getElementById("s10").value = c[10];
	document.getElementById("s10").innerHTML = c[10];
	document.getElementById("s11").value = c[11];
	document.getElementById("s11").innerHTML = c[11];
  }
  
  function submit_message(no) {
    /*
    var name = document.getElementById("name");
    var message = document.getElementById("message");

    var entry = {
      name: name.value,
      message: message.value
    };*/
    document.getElementById('story').value += no+' '
	
    fetch('/res', {
      method: "POST",
      credentials: "include",
      body: JSON.stringify(no),
      cache: "no-cache",
      headers: new Headers({
        "content-type": "application/json"
      })
    })
      .then(function (response) {
        if (response.status !== 200) {
          console.log(`Looks like there was a problem. Status code: ${response.status}`);
          return;
        }
        response.json().then(function (data) {
          //console.log(data);
		  choices = data
		  update_buttons(choices)
        });
      })
      .catch(function (error) {
        console.log("Fetch error: " + error);
      });

  }
  </script>
  </head>
  <body onload=submit_message('')>
  <div class="form-group">
  <label for="usr">Your own story:</label>
  <textarea type="text" class="form-control" id="story"></textarea>
  </div>
  <div class="btn-group btn-group-justified">
  <div class="btn-group">
    <button type="button" onclick=submit_message(this.value) value='' class="btn btn-primary" id="s0">Apple</button>
  </div>
  <div class="btn-group">
    <button type="button" onclick=submit_message(this.value) value='' class="btn btn-primary" id="s1">Samsung</button>
  </div>
  <div class="btn-group">
    <button type="button" onclick=submit_message(this.value) value='' class="btn btn-primary"id="s2">Sony</button>
  </div>
</div>
  <div class="btn-group btn-group-justified">
  <div class="btn-group">
    <button type="button" onclick=submit_message(this.value) value='' class="btn btn-primary"id="s3">Apple</button>
  </div>
  <div class="btn-group">
    <button type="button" onclick=submit_message(this.value) value='' class="btn btn-primary"id="s4">Samsung</button>
  </div>
  <div class="btn-group">
    <button type="button" onclick=submit_message(this.value) value='' class="btn btn-primary"id="s5">Sony</button>
  </div>
</div>
  <div class="btn-group btn-group-justified">
  <div class="btn-group">
    <button type="button" onclick=submit_message(this.value) value='' class="btn btn-primary" id="s6">Apple</button>
  </div>
  <div class="btn-group">
    <button type="button" onclick=submit_message(this.value) value='' class="btn btn-primary" id="s7">Samsung</button>
  </div>
  <div class="btn-group">
    <button type="button" onclick=submit_message(this.value) value='' class="btn btn-primary" id="s8">Sony</button>
  </div>
</div>
  <div class="btn-group btn-group-justified">
  <div class="btn-group">
    <button type="button" onclick=submit_message(this.value) value='' class="btn btn-primary" id="s9">Apple</button>
  </div>
  <div class="btn-group">
    <button type="button" onclick=submit_message(this.value) value='' class="btn btn-primary" id="s10">Samsung</button>
  </div>
  <div class="btn-group">
    <button type="button" onclick=submit_message(this.value) value='' class="btn btn-primary" id="s11">Sony</button>
  </div>
</div>

  </body>
</html>
<div class="mb-3" id="messages"></div>
	  